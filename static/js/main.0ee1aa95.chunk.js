(this.webpackJsonprematch=this.webpackJsonprematch||[]).push([[0],{56:function(e,t,a){e.exports=a(68)},61:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(7),o=a.n(s),i=(a(61),a(25)),c=a(36),l=a.n(c),u=a(44),h=a(37),m=a(38),d=a(40),p=a(39),g=a(22),E=a.n(g),f=(a(63),a(64),a(49)),k=a(116),b=a(117),v=a(118),w=a(119),x=a(111),P=a(115),y=a(114),S=a(107),M=a(112),R=a(113),I=a(120),O=a(110),T="".concat("/REmatchReact","/work.js"),j=1*Math.pow(10,8),C=new Worker(T),N=[];E.a.defineSimpleMode("rematchQuery",{start:[{regex:/(\.\+|\.\*|\.|\+)/,token:"keyword"},{regex:/(\\d)|(\\w)|(\\s)|(\\t)|(\\r)|(\\n)|(\\\()|(\\\))|(\\\[)|(\\\])|(\\\{)|(\\\})|(\\\.)|(\\-)|(\\_)/i,token:"string"},{regex:/(![A-Za-z0-9]+\{|\})/,token:"number"},{regex:/(\(|\)|\||\[|\]|-)/,token:"operator"}]});var L=Object(f.a)({palette:{type:"dark"}}),F=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleChangePage=function(e,t){n.setState({page:t})},n.handleChangeRowsPerPage=function(e){n.setState({rowsPerPage:e.target.value,page:0})},n.handleMarkText=function(e){n.props.clearMarks(),n.props.addMarks(e)},n.state={page:0,rowsPerPage:25},n}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({page:0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.schema,n=t.spanList,s=t.textEditor;return r.a.createElement(S.a,{component:O.a,style:{marginTop:"1rem"}},r.a.createElement(x.a,{size:"small"},r.a.createElement(M.a,null,r.a.createElement(R.a,null,r.a.createElement(I.a,{labelRowsPerPage:"Matches per page:",rowsPerPageOptions:[10,25,50,100],colSpan:a.length,count:n.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})),n.length>0?r.a.createElement(R.a,null,a.map((function(e,t){return r.a.createElement(y.a,{key:t},e)}))):r.a.createElement(R.a,null,r.a.createElement(y.a,null,"No matches."))),r.a.createElement(P.a,null,(this.state.rowsPerPage>0?n.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage):n).map((function(t,a){return r.a.createElement(R.a,{key:a,hover:!0,style:{cursor:"pointer"},onClick:function(){return e.handleMarkText(t)}},t.map((function(e,t){return r.a.createElement(y.a,{key:t},s.getRange(s.posFromIndex(e.s),s.posFromIndex(e.e)))})))})))))}}]),a}(n.Component),A=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).addMarks=function(e){e.forEach((function(e,t){N.push(n.state.textEditor.markText(n.state.textEditor.posFromIndex(e.s),n.state.textEditor.posFromIndex(e.e),{className:"m".concat(t)}))}))},n.clearMarks=function(){N.forEach((function(e){e.clear()})),N=[]},n.handleFile=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:n.state.textEditor.setValue(""),n.clearMarks(),n.setState({spanList:[],schema:[]}),r=0,s=j;case 9:if(!(r<a.size)){e.next=14;break}return e.next=12,a.slice(r,s).text().then((function(e){n.state.textEditor.replaceRange(e,{line:1/0}),r=s,s+=j}));case 12:e.next=9;break;case 14:console.log("upload done");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.runWorker=function(){console.log("STARTED"),n.clearMarks(),n.setState({spanList:[],schema:[]}),C.postMessage({text:n.state.textEditor.getValue(),query:n.state.queryEditor.getValue()}),C.onmessage=function(e){switch(e.data.type){case"SCHEMA":n.setState({schema:e.data.schema});break;case"SPANS":n.setState((function(t,a){return{spanList:[].concat(Object(i.a)(t.spanList),Object(i.a)(e.data.spans))}}));break;case"LAST_SPANS":n.setState((function(t,a){return{spanList:[].concat(Object(i.a)(t.spanList),Object(i.a)(e.data.spans))}})),console.log("FINISHED (NO MORE SPANS)");break;case"ERROR":console.log("FINISHED (ERROR)"),console.log(e.data.error);break;case"NO_MATCHES":console.log("FINISHED (NO MATCHES)")}}},n.state={schema:[],spanList:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=E()(document.getElementById("queryEditor"),{value:"!a{This} !b{is} !c{RE}!d{match}, !e{.+}!",mode:"rematchQuery",theme:"material",lineNumbers:!1,scrollbarStyle:"native",smartIndent:!1,indentWithTabs:!0,showInvisibles:!1,undoDepth:100,viewportMargin:10});e.on("beforeChange",(function(e,t){var a=t.text.join("").replace(/\n/g,"");return t.update(t.from,t.to,[a]),!0}));var t=E()(document.getElementById("textEditor"),{value:"This is REmatch, cool!\nThis is REmatch, awesome!\nThis is REmatch, useful!\nThis is REmatch, incredible!\nThis is REmatch, fast!\n",mode:"text/plain",theme:"material",lineNumbers:!0,scrollbarStyle:"native",smartIndent:!1,indentWithTabs:!0,showInvisibles:!0,undoDepth:100,viewportMargin:10});this.setState({queryEditor:e,textEditor:t})}},{key:"render",value:function(){return r.a.createElement(k.a,{theme:L},r.a.createElement(b.a,{variant:"outlined",startIcon:r.a.createElement(v.a,null),onClick:this.runWorker},"Run Query"),r.a.createElement("input",{accept:"text/*",id:"fileInput",type:"file",style:{display:"none"},onChange:this.handleFile}),r.a.createElement("label",{htmlFor:"fileInput"},r.a.createElement(b.a,{variant:"outlined",component:"span",startIcon:r.a.createElement(w.a,null)},"Upload file")),r.a.createElement("div",{id:"queryEditor"}),r.a.createElement("div",{id:"textEditor"}),r.a.createElement(F,{spanList:this.state.spanList,schema:this.state.schema,textEditor:this.state.textEditor,addMarks:this.addMarks,clearMarks:this.clearMarks}),r.a.createElement("div",{id:"test"}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.0ee1aa95.chunk.js.map