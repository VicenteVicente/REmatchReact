{"version":3,"sources":["assets/logo-dark.png","App.js","serviceWorker.js","index.js"],"names":["module","exports","WORKPATH","process","CHUNKSIZE","worker","Worker","CodeMirror","defineSimpleMode","start","regex","token","darkTheme","createMuiTheme","palette","type","primary","main","background","paper","default","SectionTitle","title","className","style","backgroundColor","ResultsTable","props","handleChangePage","_","newPage","console","log","setState","page","handleChangeRowsPerPage","event","rowsPerPage","target","value","handleMarkText","row","clearMarks","addMarks","state","this","schema","spanList","textEditor","Grid","container","spacing","item","xs","display","alignItems","margin","Pagination","count","Math","ceil","length","onChange","showFirstButton","showLastButton","Select","width","labelId","MenuItem","TableContainer","height","oveflow","Table","stickyHeader","size","map","schIdx","key","TableHead","TableRow","name","idxHead","TableCell","TableBody","slice","idxRow","hover","cursor","onClick","col","idxCol","getRange","posFromIndex","s","e","Component","App","spans","end","forEach","span","idx","markText","scrollIntoView","getAllMarks","mark","clear","handleFile","a","file","files","setValue","uploadingFile","fileProgress","text","then","textChunk","round","replaceRange","line","Infinity","runWorker","postMessage","getValue","query","queryEditor","onmessage","m","data","prevState","error","document","getElementById","mode","theme","lineNumbers","scrollbarStyle","smartIndent","indentWithTabs","showInvisibles","undoDepth","viewportMargin","extraKeys","on","instance","change","includes","origin","join","replace","update","from","to","ThemeProvider","CssBaseline","Container","src","Logo","alt","Paper","elevation","Backdrop","open","zIndex","flexDirection","CircularProgress","color","id","Button","startIcon","PlayArrow","accept","htmlFor","Tooltip","variant","component","Publish","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.a7887b6a.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABC8AAACqCAYAAACNg2VFAAAAAXNSR0IArs4c6QAACL9JREFUeJzt3L9uLFcBBvAzZhoiUdhSChBFKjdbUaR10vAAfgQKV3kHQh4iaVxT+wFACrigScs2W6WCIpItdKXQjO5QRFwJ7l5r1vPv2zO/X2VZs95z5syMdz8dfc3PDn/rC8AHdNc3zf//rindpO/Rl/a937WHR8+mEd788U/v1u2jr7588dgfv/yqlFLKz//we+ccADgr//7mm6aUUj764osXj/vx66/f/fyL3/7GZ54Rutu7978f7Pezv+/F7O8AAAAAMILwAgAAAIgmvAAAAACiCS8AAACAaMILAAAAIJrwAgAAAIgmvAAAAACiCS8AAACAaMILAAAAIFo79MDu+qaZcyBjtYfH/rWvTZ9bLYaukfVYxph7JsnWrpeEdXsuZVPnnHEuSxl0zbqulmE9sliPLLWsx9bmMafu9i76HE2tfbhf/Zy/xM4LAAAAIJrwAgAAAIgmvAAAAACiCS8AAACAaIMLO49pSjfVOE7Sjxv2IGvNrRZTr5H1GGeJeyZJLdfLOa3bVbOpPis+4KmftufLdTWO9chiPbLUsh7msbxmv197CJPod7u1h3AyOy8AAACAaMILAAAAIJrwAgAAAIgmvAAAAACiCS8AAACAaMILAAAAIJrwAgAAAIgmvAAAAACiCS8AAACAaMILAAAAIJrwAgAAAIgmvAAAAACiCS8AAACAaMILAAAAIJrwAgAAAIgmvAAAAACiCS8AAACAaMILAAAAIJrwAgAAAIgmvAAAAACiCS8AAACAaMILAAAAIJrwAgAAAIgmvAAAAACitWsPgP/V73aT/r1mv5/078EW9R6VsCl930/695qmmfTvwZqeJr4/rtwfnJmpv68N5XudnRcAAABAOOEFAAAAEE14AQAAAEQTXgAAAADRtNCdgfbhflAzUnd7p/EIFtIeHqdtLONVaimOq2UelRu6SE4+m3M58P54dn9wZoZ+D5ua73XH2XkBAAAARBNeAAAAANGEFwAAAEA04QUAAAAQTWEnvKB3i3Cm3v7ql7Mcew5qKY6rZR7UY+pi2WNqKc0FlvP2448nPY5cdl4AAAAA0YQXAAAAQDThBQAAABBNeAEAAABE00YIJ2oPj5tv9VJkOlx3fbNK+9ybb/88+Ni319czjgQ4R0MLY8dIL5td4hwA47395JOTj+tuf7fK86d9uK/2udLvdrO/h50XAAAAQDThBQAAABBNeAEAAABEE14AAAAA0bTuAS9SUDq9pnSzv8fT558NPrY74VgAgCTdp5+efFyz3881nHeWKLBcy1rFo3ZeAAAAANGEFwAAAEA04QUAAAAQTXgBAAAARFPYCSfqrm+atccwBUWcAHzIcymv/l93Wcqm/r84V6QZc01CMjsvAAAAgGjCCwAAACCa8AIAAACIJrwAAAAAoinshBc0pVt7CJPoF7jVaykyBeC4q+b9x/xTr2/yGOeKpRy71uC1utu7VS6o9uF+0APSzgsAAAAgmvACAAAAiCa8AAAAAKIJLwAAAIBoCjvPwFrFKTBWLYWnAMA8FJnCOpr9fpX37Xe7V7/WzgsAAAAgmvACAAAAiCa8AAAAAKIJLwAAAIBoCjvDrFWcAgAAc7osRTsn8Gp2XgAAAADRhBcAAABANOEFAAAAEE14AQAAAERT2MlovcsIAACAGdl5AQAAAEQTXgAAAADRhBcAAABANOEFAAAAEE3TIicZWs7ZHh77mYcCAEtq1h4AnLvn8PvoshSfXyGYnRcAAABANOEFAAAAEE14AQAAAEQTXgAAAADRFHYymnJOPmRowevUmtKt8r5AHZomulMQqnK10v321Pv4yrb1u93aQziZnRcAAABANOEFAAAAEE14AQAAAEQTXgAAAADRFHaGmbrgcIniwu765r2mpVpKPNcqnDxHa635sesPAGALpi4eXatAlQztw330dzg7LwAAAIBowgsAAAAgmvACAAAAiCa8AAAAAKJpIzwDQ4sQlyguPFYAeqzUsuYSz1rmAQBAfS5LGfRZ9bkU7ZycFTsvAAAAgGjCCwAAACCa8AIAAACIJrwAAAAAoo0q7DxW1Mj2DC3xpB5LlMPWXIy6xP3x5i9/HXxs+99jP/9sptEAAMyj/e67k4/rd7u5hrMJ3e3dKmWvdl4AAAAA0YQXAAAAQDThBQAAABBNeAEAAABEG9waV3N5HpxiibLKJUx9Tx8rbh2q5oLXtZ6d//r274Ov04vD4acfFHYCAGfm4vvvTz6ufbj33XZizX4/+3vYeQEAAABEE14AAAAA0YQXAAAAQDThBQAAABCt3pY8mMCYEsokNRdictzFP/45y7GwBU/9tD1uV00VPc8AkS5++OEVx/16nsEwKzsvAAAAgGjCCwAAACCa8AIAAACIJrwAAAAAog1u8euub6LbptrD47TtWgAvWOuZ6FkH67gsZdC991xK9OclmIPrnlp1t3eu7SB2XgAAAADRhBcAAABANOEFAAAAEE14AQAAAEQbXNh5TFO6qcZxkn7csAFO4lkHAD+5avQXsm3Nfr/2EDbLzgsAAAAgmvACAAAAiCa8AAAAAKIJLwAAAIBowgsAAAAgmvACAAAAiCa8AAAAAKIJLwAAAIBowgsAAAAgmvACAAAAiCa8AAAAAKIJLwAAAIBowgsAAAAgmvACAAAAiCa8AAAAAKIJLwAAAIBowgsAAAAgmvACAAAAiCa8AAAAAKIJLwAAAIBowgsAAAAgmvACAAAAiCa8AAAAAKIJLwAAAIBo7ZgX9+NeHq2WuZkHW+R6Wd5T3689hEmYRxbz2B7najjnKkst61HLPObU73ZrD2Gz7LwAAAAAogkvAAAAgGjCCwAAACCa8AIAAACINrjVrj08VtveUsvczIMtcr0s77KUKs65eWQxj+1xroZzrrLUsh61zGNO7cO9cxTEzgsAAAAgmvACAAAAiCa8AAAAAKIJLwAAAIBowgsAAAAgmvACAAAAiCa8AAAAAKIJLwAAAIBowgsAAAAg2n8A0AZ98/RTKuEAAAAASUVORK5CYII=\"","/**\n * TODO:\n * pagination\n * fixed editor and resizable layout\n * color scheme\n * hover\n * background color differed\n */\nimport Logo from './assets/logo-dark.png';\n\nimport CodeMirror from 'codemirror';\nimport 'codemirror/theme/material-darker.css';\nimport 'codemirror/addon/mode/simple';\n\nimport React, { Component } from 'react';\n\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Button from '@material-ui/core/Button';\nimport { PlayArrow, Publish } from '@material-ui/icons';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Grid from '@material-ui/core/Grid';\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Pagination from '@material-ui/lab/Pagination';\n\nconst WORKPATH = `${process.env.PUBLIC_URL}/work.js`;\nconst CHUNKSIZE = 1*10**8; // 100MB\nlet worker = new Worker(WORKPATH);\n\n/* CODEMIRROR MODE DEFINITION */\nCodeMirror.defineSimpleMode('rematchQuery', {\n  start: [\n      { \n        regex: /(![A-Za-z0-9]+\\{|\\})/, \n        token: 'm0' \n      },\n      { \n        regex: /(\\\\d)|(\\\\w)|(\\\\s)|(\\\\t)|(\\\\r)|(\\\\n)|(\\\\\\()|(\\\\\\))|(\\\\\\[)|(\\\\\\])|(\\\\\\{)|(\\\\\\})|(\\\\\\.)|(\\\\-)|(\\\\_)/i,\n        token: 'm2' \n      },\n      { \n        regex: /(\\(|\\)|\\||\\[|\\]|-)/, \n        token: 'm3'\n      },\n      { \n        regex: /(\\.\\+|\\.\\*|\\.|\\+)/, \n        token: 'm1' \n      },\n  ]\n});\n\n/* MATERIAL UI DARK THEME */\nconst darkTheme = createMuiTheme({\n  palette: {\n      type: 'dark',\n      primary: {\n        main: '#03DAC6',\n      },\n      background: {\n        paper: '#212121',\n        default: '#2c2c2c',\n      }\n    },\n});\n\nconst SectionTitle = ({title}) => (\n  <div className=\"sectionTitle\" style={{backgroundColor: '#03DAC6'}}>{title}</div>\n)\n\nclass ResultsTable extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: 0,\n      rowsPerPage: 25,\n    }\n  }\n\n  handleChangePage = (_, newPage) => {\n    console.log(newPage);\n    this.setState({page: newPage-1});\n  }\n\n  handleChangeRowsPerPage = (event) => {\n    this.setState({\n      rowsPerPage: event.target.value,\n      page: 0\n    });\n  }\n\n  handleMarkText = (row) => {\n    this.props.clearMarks();\n    this.props.addMarks(row);\n  }\n\n  UNSAFE_componentWillReceiveProps(_) {\n    this.setState({page: 0});\n  }\n\n  render() {\n    const {schema, spanList, textEditor} = this.props;\n    return ([\n      <Grid container spacing={0}>\n        <Grid item xs={10} style={{display: 'flex', alignItems: 'center', margin: '.25rem 0'}}>\n          <Pagination\n            style={{display: 'block'}}\n            count={Math.ceil(spanList.length/this.state.rowsPerPage)} \n            onChange={this.handleChangePage}\n            showFirstButton \n            showLastButton/>\n        </Grid>\n        <Grid item xs={2} style={{display: 'flex', alignItems: 'center'}}>\n            <Select\n                style={{width: '100%'}}\n                value={this.state.rowsPerPage}\n                labelId=\"demo-simple-select-label\"\n                onChange={this.handleChangeRowsPerPage}>\n                <MenuItem value={10}>10 rows per page</MenuItem>\n                <MenuItem value={25}>25 rows per page</MenuItem>\n                <MenuItem value={50}>50 rows per page</MenuItem>\n                <MenuItem value={100}>100 rows per page</MenuItem>\n            </Select>\n        </Grid>\n      </Grid>,\n      <TableContainer style={{height: '40vh', oveflow: 'auto'}}>\n        <Table stickyHeader size=\"small\">\n          <colgroup>\n            {schema.map((_, schIdx) => (\n              <col key={schIdx} style={{width: `${100*1/schema.length}%`}}/>\n            ))}          \n          </colgroup>\n          <TableHead>\n            {(spanList.length>0)\n            ? <TableRow>\n                {schema.map((name, idxHead) => (\n                  <TableCell className={`th${idxHead}`} key={idxHead}>\n                    {name}\n                  </TableCell>\n                ))}\n              </TableRow>\n            : <TableRow>\n                <TableCell>\n                  No matches\n                </TableCell>\n              </TableRow>\n            }\n          </TableHead>\n          <TableBody>\n            {(this.state.rowsPerPage > 0\n              ? spanList.slice(\n                this.state.page * this.state.rowsPerPage,\n                this.state.page * this.state.rowsPerPage + this.state.rowsPerPage)\n              : spanList).map((row, idxRow) => ( \n              <TableRow key={idxRow} hover style={{cursor: 'pointer'}} onClick={() => this.handleMarkText(row)}>\n                {row.map((col, idxCol) => (\n                  <TableCell\n                    key={idxCol}>\n                    {textEditor.getRange(\n                      textEditor.posFromIndex(col.s),\n                      textEditor.posFromIndex(col.e))}\n                  </TableCell>\n                ))}\n              </TableRow>\n              ))}\n          </TableBody>\n        </Table>\n      </TableContainer>]\n    )\n  }\n}\n\n/* APP */\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      schema: [],\n      spanList: [],\n      uploadingFile: false,\n      fileProgress: 0,\n    };\n  }\n  componentDidMount() {\n    let queryEditor = CodeMirror(document.getElementById('queryEditor'), {\n      value: '!a{RE}!b{[a-z]+} !c{[a-z]+}!d{!}',\n      mode: 'rematchQuery',\n      theme: 'material-darker',\n      lineNumbers: false,\n      scrollbarStyle: null,\n      smartIndent: false,\n      indentWithTabs: true,\n      showInvisibles: false,\n      undoDepth: 100,\n      viewportMargin: 10,\n      extraKeys: {\n        'Enter': this.runWorker,\n      }\n    });\n    queryEditor.on('beforeChange', (instance, change) => {\n      if (![\"undo\", \"redo\"].includes(change.origin)) {\n        let line = change.text.join(\"\").replace(/\\n/g, \"\");\n        change.update(change.from, change.to, [line]);\n      }\n      return true;\n    });\n    let textEditor = CodeMirror(document.getElementById('textEditor'), {\n      value: \n`REmatch cool!\nREmatch awesome!\nREmatch nice!\nREmatch best!\n`,\n      mode: 'text/plain',\n      theme: 'material-darker',\n      lineNumbers: true,\n      scrollbarStyle: 'native',\n      smartIndent: false,\n      indentWithTabs: true,\n      showInvisibles: true,\n      undoDepth: 100,\n      viewportMargin: 15,\n    });\n    this.setState({\n      queryEditor, \n      textEditor,\n    });\n  }\n\n  addMarks = (spans) => {\n    let start, end;\n    spans.forEach((span, idx) => {\n      start = this.state.textEditor.posFromIndex(span.s);\n      end = this.state.textEditor.posFromIndex(span.e);\n      \n      this.state.textEditor.markText(start, end, {\n          className: `m${idx}`,\n        }\n      );\n    });\n    this.state.textEditor.scrollIntoView(start, 200);\n  }\n  clearMarks = () => {\n    this.state.textEditor.getAllMarks().forEach((mark) => {\n      mark.clear();\n    });\n  }\n  handleFile = async (event) => {\n    let file = event.target.files[0];\n    if (!file) {return};\n    this.state.textEditor.setValue('');\n    this.clearMarks();\n    this.setState({spanList: [], schema: [], uploadingFile: true, fileProgress: 0});\n    let start = 0;\n    let end = CHUNKSIZE;\n    while (start < file.size) {\n        await file.slice(start, end).text()\n          // eslint-disable-next-line no-loop-func\n          .then((textChunk) => {\n            this.setState({fileProgress: Math.round(100*100*start/file.size)/100})\n            this.state.textEditor.replaceRange(textChunk, { line: Infinity });\n            start = end;\n            end += CHUNKSIZE;\n          });\n    }\n    console.log('upload done');\n    this.setState({uploadingFile: false})\n  }\n  runWorker = () => {\n    console.log('STARTED');\n    this.clearMarks();\n    this.setState({spanList: [], schema: []});\n    worker.postMessage({\n      text:   this.state.textEditor.getValue(),\n      query:  this.state.queryEditor.getValue(),\n    });\n    worker.onmessage = (m) => {\n      switch(m.data.type) {\n        case 'SCHEMA':\n          this.setState({schema: m.data.schema});\n          break;\n        case 'SPANS':\n          this.setState((prevState, _) => ({spanList: [...prevState.spanList, ...m.data.spans]}));\n          break;\n        case 'LAST_SPANS':\n          this.setState((prevState, _) => ({spanList: [...prevState.spanList, ...m.data.spans]}));\n          console.log(\"FINISHED (NO MORE SPANS)\");\n          break;\n        case 'ERROR':\n          console.log(\"FINISHED (ERROR)\");\n          console.log(m.data.error);\n          break;\n        case 'NO_MATCHES':\n          console.log(\"FINISHED (NO MATCHES)\");\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  render() {\n    return (\n      <ThemeProvider theme={darkTheme}>\n        <CssBaseline />\n          <Container className=\"container\">\n           <img className=\"logo\" src={Logo} alt=\"REmatch\"/>\n            <Paper elevation={3}>\n              <Backdrop open={this.state.uploadingFile} style={{zIndex: 10000, display: 'flex', flexDirection: 'column'}}>\n                <CircularProgress size='3rem'/>\n                <h2 style={{color: '#fff'}}>Loading ({this.state.fileProgress}%)</h2>\n              </Backdrop>\n              <Grid container spacing={0}>\n                {/* Expression */}\n                <Grid item xs={12}>\n                  <SectionTitle title=\"Expression\"/>\n                </Grid>\n                <Grid item xs={11}>\n                  <div id=\"queryEditor\"></div>\n                </Grid>\n                <Grid item xs={1}>\n                  <Button color=\"primary\" startIcon={<PlayArrow/>} onClick={this.runWorker} style={{width: '100%', background: 'none !important'}}>\n                      Run\n                  </Button>\n                </Grid>\n                {/* EDITOR */}\n                <Grid item xs={12}>\n                  <SectionTitle title=\"Text\"/>\n                </Grid>\n                <Grid item xs={12}>\n                  <div id=\"textEditor\">\n                    <input accept=\"*\" id=\"fileInput\" type=\"file\" style={{display: 'none'}} onChange={this.handleFile}/>\n                    <label htmlFor=\"fileInput\">\n                      <Tooltip title=\"Upload a file\">\n                        <Button size=\"medium\" variant=\"contained\" component=\"span\" color=\"primary\" className=\"uploadButton\">\n                          <Publish/>\n                        </Button>\n                      </Tooltip>\n                    </label>\n                  </div>\n                </Grid>\n                {/* RESULTS */}\n                <Grid item xs={12}>\n                  <SectionTitle title=\"Matches\"/>\n                </Grid>\n                <Grid item xs={12}>\n                  <ResultsTable \n                    spanList={this.state.spanList} \n                    schema={this.state.schema} \n                    textEditor={this.state.textEditor} \n                    addMarks={this.addMarks}\n                    clearMarks={this.clearMarks}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Container>\n      </ThemeProvider>\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}