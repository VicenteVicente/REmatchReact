(this.webpackJsonprematch=this.webpackJsonprematch||[]).push([[0],{49:function(A,e){A.exports="data:image/png;base64,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"},61:function(A,e,t){A.exports=t(73)},66:function(A,e,t){},73:function(A,e,t){"use strict";t.r(e);var a=t(0),n=t.n(a),r=t(9),s=t.n(r),o=(t(66),t(28)),c=t(39),i=t.n(c),l=t(48),m=t(40),u=t(41),g=t(43),E=t(42),d=t(49),h=t.n(d),p=t(24),C=t.n(p),v=(t(68),t(69),t(54)),I=t(126),f=t(127),w=t(131),x=t(132),b=t(133),P=t(120),k=t(125),y=t(123),L=t(117),B=t(121),R=t(122),S=t(134),O=t(129),M=t(135),F=t(130),N=t(128),T=t(124),j="".concat("/REmatchReact","/work.js"),Q=1*Math.pow(10,8),z=new Worker(j);C.a.defineSimpleMode("rematchQuery",{start:[{regex:/(![A-Za-z0-9]+\{|\})/,token:"m0"},{regex:/(\\d)|(\\w)|(\\s)|(\\t)|(\\r)|(\\n)|(\\\()|(\\\))|(\\\[)|(\\\])|(\\\{)|(\\\})|(\\\.)|(\\-)|(\\_)/i,token:"m2"},{regex:/(\(|\)|\||\[|\]|-)/,token:"m3"},{regex:/(\.\+|\.\*|\.|\+)/,token:"m1"}]});var J=Object(v.a)({palette:{type:"dark",primary:{main:"#03DAC6"},background:{paper:"#212121",default:"#212121"}}}),K=function(A){var e=A.name;return n.a.createElement("div",{className:"sectionTitle",style:{backgroundColor:"#03DAC6"}},e)},W=function(A){Object(g.a)(t,A);var e=Object(E.a)(t);function t(A){var a;return Object(m.a)(this,t),(a=e.call(this,A)).handleChangePage=function(A,e){a.setState({page:e})},a.handleChangeRowsPerPage=function(A){a.setState({rowsPerPage:A.target.value,page:0})},a.handleMarkText=function(A){a.props.clearMarks(),a.props.addMarks(A)},a.state={page:0,rowsPerPage:25},a}return Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(A){this.setState({page:0})}},{key:"render",value:function(){var A=this,e=this.props,t=e.schema,a=e.spanList,r=e.textEditor;return n.a.createElement(L.a,null,n.a.createElement(P.a,{stickyHeader:!0,size:"small",style:{tableLayout:"auto"}},n.a.createElement("colgroup",null,t.map((function(A,e){return n.a.createElement("col",{key:e,style:{width:"".concat(100/t.length,"%")}})}))),n.a.createElement(B.a,null,n.a.createElement(R.a,null,n.a.createElement(S.a,{labelRowsPerPage:"Matches per page:",rowsPerPageOptions:[10,25,50,100],colSpan:t.length,count:a.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})),a.length>0?n.a.createElement(R.a,null,t.map((function(A,e){return n.a.createElement(y.a,{className:"th".concat(e),key:e},A)}))):n.a.createElement(R.a,null,n.a.createElement(y.a,null,"No matches."))),n.a.createElement(k.a,null,(this.state.rowsPerPage>0?a.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage):a).map((function(e,t){return n.a.createElement(R.a,{key:t,hover:!0,style:{cursor:"pointer"},onClick:function(){return A.handleMarkText(e)}},e.map((function(A,e){return n.a.createElement(y.a,{key:e},r.getRange(r.posFromIndex(A.s),r.posFromIndex(A.e)))})))})))))}}]),t}(a.Component),D=function(A){Object(g.a)(t,A);var e=Object(E.a)(t);function t(A){var a;return Object(m.a)(this,t),(a=e.call(this,A)).addMarks=function(A){var e,t;A.forEach((function(A,n){e=a.state.textEditor.posFromIndex(A.s),t=a.state.textEditor.posFromIndex(A.e),a.state.textEditor.markText(e,t,{className:"m".concat(n)})}))},a.clearMarks=function(){a.state.textEditor.getAllMarks().forEach((function(A){A.clear()}))},a.handleFile=function(){var A=Object(l.a)(i.a.mark((function A(e){var t,n,r;return i.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(t=e.target.files[0]){A.next=3;break}return A.abrupt("return");case 3:a.state.textEditor.setValue(""),a.clearMarks(),a.setState({spanList:[],schema:[],uploadingFile:!0,fileProgress:0}),n=0,r=Q;case 9:if(!(n<t.size)){A.next=14;break}return A.next=12,t.slice(n,r).text().then((function(A){a.setState({fileProgress:Math.round(1e4*n/t.size)/100}),a.state.textEditor.replaceRange(A,{line:1/0}),n=r,r+=Q}));case 12:A.next=9;break;case 14:console.log("upload done"),a.setState({uploadingFile:!1});case 16:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}(),a.runWorker=function(){console.log("STARTED"),a.clearMarks(),a.setState({spanList:[],schema:[]}),z.postMessage({text:a.state.textEditor.getValue(),query:a.state.queryEditor.getValue()}),z.onmessage=function(A){switch(A.data.type){case"SCHEMA":a.setState({schema:A.data.schema});break;case"SPANS":a.setState((function(e,t){return{spanList:[].concat(Object(o.a)(e.spanList),Object(o.a)(A.data.spans))}}));break;case"LAST_SPANS":a.setState((function(e,t){return{spanList:[].concat(Object(o.a)(e.spanList),Object(o.a)(A.data.spans))}})),console.log("FINISHED (NO MORE SPANS)");break;case"ERROR":console.log("FINISHED (ERROR)"),console.log(A.data.error);break;case"NO_MATCHES":console.log("FINISHED (NO MATCHES)")}}},a.state={schema:[],spanList:[],uploadingFile:!1,fileProgress:0},a}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var A=C()(document.getElementById("queryEditor"),{value:"!a{RE}!b{[a-z]+} !c{[a-z]+}!d{!}",mode:"rematchQuery",theme:"material-darker",lineNumbers:!1,scrollbarStyle:null,smartIndent:!1,indentWithTabs:!0,showInvisibles:!1,undoDepth:100,viewportMargin:10,extraKeys:{Enter:this.runWorker}});A.on("beforeChange",(function(A,e){if(!["undo","redo"].includes(e.origin)){var t=e.text.join("").replace(/\n/g,"");e.update(e.from,e.to,[t])}return!0}));var e=C()(document.getElementById("textEditor"),{value:"REmatch cool!\nREmatch awesome!\nREmatch nice!\nREmatch best!\n",mode:"text/plain",theme:"material-darker",lineNumbers:!0,scrollbarStyle:"native",smartIndent:!1,indentWithTabs:!0,showInvisibles:!0,undoDepth:100,viewportMargin:15});this.setState({queryEditor:A,textEditor:e})}},{key:"render",value:function(){return n.a.createElement(I.a,{theme:J},n.a.createElement(f.a,null),n.a.createElement(N.a,null,n.a.createElement("img",{className:"logo",src:h.a,alt:"REmatch"}),n.a.createElement(T.a,{elevation:3},n.a.createElement(M.a,{open:this.state.uploadingFile,style:{zIndex:1e4,display:"flex",flexDirection:"column"}},n.a.createElement(O.a,{size:"3rem"}),n.a.createElement("h2",{style:{color:"#fff"}},"Loading (",this.state.fileProgress,"%)")),n.a.createElement(F.a,{container:!0,spacing:0},n.a.createElement(F.a,{item:!0,xs:12},n.a.createElement("input",{accept:"*",id:"fileInput",type:"file",style:{display:"none"},onChange:this.handleFile}),n.a.createElement("label",{htmlFor:"fileInput"},n.a.createElement(w.a,{variant:"outlined",component:"span",startIcon:n.a.createElement(x.a,null)},"Upload file"))),n.a.createElement(F.a,{item:!0,xs:12},n.a.createElement(K,{name:"Expression"})),n.a.createElement(F.a,{item:!0,xs:11},n.a.createElement("div",{id:"queryEditor"})),n.a.createElement(F.a,{item:!0,xs:1},n.a.createElement(w.a,{color:"primary",startIcon:n.a.createElement(b.a,null),onClick:this.runWorker,style:{width:"100%",background:"none !important"}},"Run")),n.a.createElement(F.a,{item:!0,xs:12},n.a.createElement(K,{name:"Text"})),n.a.createElement(F.a,{item:!0,xs:12},n.a.createElement("div",{id:"textEditor"})),n.a.createElement(F.a,{item:!0,xs:12},n.a.createElement(K,{name:"Matches"})),n.a.createElement(F.a,{item:!0,xs:12},n.a.createElement(W,{spanList:this.state.spanList,schema:this.state.schema,textEditor:this.state.textEditor,addMarks:this.addMarks,clearMarks:this.clearMarks}))))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(A){A.unregister()})).catch((function(A){console.error(A.message)}))}},[[61,1,2]]]);
//# sourceMappingURL=main.155e190f.chunk.js.map