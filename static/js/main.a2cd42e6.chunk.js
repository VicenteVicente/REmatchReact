(this.webpackJsonprematch=this.webpackJsonprematch||[]).push([[0],{43:function(e,t,a){e.exports=a(55)},48:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),s=a.n(o),i=(a(48),a(30)),c=a.n(i),l=a(32),u=a(23),m=a(22),h=a(12),p=a(18),d=a(14),f=a(13),b=a(25),E=a.n(b),g=(a(50),["m0","m1","m2","m3","m4"]),v=[];E.a.defineSimpleMode("rematchQuery",{start:[{regex:/(\.\+|\.\*|\.|\+)/,token:"keyword"},{regex:/(\\d)|(\\w)|(\\s)|(\\t)|(\\r)|(\\n)|(\\\()|(\\\))|(\\\[)|(\\\])|(\\\{)|(\\\})|(\\\.)|(\\-)|(\\_)/i,token:"string"},{regex:/(![A-Za-z0-9]+\{|\})/,token:"number"},{regex:/(\(|\)|\||\[|\]|-)/,token:"operator"}]});var y,k=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.editor=E()(document.getElementById(this.props.label),{mode:this.props.mode,theme:this.props.theme,lineNumbers:this.props.lineNumbers,scrollbarStyle:this.props.scrollbarStyle,smartIndent:!1,indentWithTabs:!0,showInvisibles:!1,undoDepth:100,viewportMargin:10}),this.editor.setValue(this.props.value),this.props.disableNewLine&&this.editor.on("beforeChange",(function(e,t){var a=t.text.join("").replace(/\n/g,"");return t.update(t.from,t.to,[a]),!0}))}},{key:"render",value:function(){return r.a.createElement("div",{id:this.props.label})}}]),a}(n.Component),j=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;0!==this.props.marks.length&&(0!==v.length&&v.forEach((function(e){e.clear()})),this.props.marks.forEach((function(e,a){v.push(t.editor.markText(t.editor.posFromIndex(e.s),t.editor.posFromIndex(e.e),{className:g[a]}))})),this.editor.scrollIntoView(this.editor.posFromIndex(this.props.marks[0].s),200))}}]),a}(k),O=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return a}(k),R=a(75),x=function(e){var t=r.a.useState(1),a=Object(m.a)(t,2),n=a[0],o=a[1];return r.a.createElement(R.a,{count:e.total,page:n,onChange:function(t,a){o(a),e.handlePage(a)}})},w=function(e){var t=e.spans.map((function(e,t){return r.a.createElement("span",{key:t,className:"r".concat(t)},e.m)}));return r.a.createElement("div",{className:"resultLine",onClick:function(){return e.setMarks(e.spans)}},t)},N=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={currPage:1},n}return Object(p.a)(a,[{key:"handlePage",value:function(e){this.setState({currPage:e})}},{key:"addText",value:function(e){var t=this;e.forEach((function(e){e.forEach((function(e){e.m=t.props.textEditorRef.current.editor.getRange(t.props.textEditorRef.current.editor.posFromIndex(e.s),t.props.textEditorRef.current.editor.posFromIndex(e.e))}))}))}},{key:"render",value:function(){var e=this;return this.matches=this.props.list.slice(20*(this.state.currPage-1),20*this.state.currPage),this.addText(this.matches),this.matches=this.props.list.slice(20*(this.state.currPage-1),20*this.state.currPage).map((function(t,a){return r.a.createElement(w,{key:a,spans:t,setMarks:e.props.setMarks})})),r.a.createElement("div",{className:"bottomContainer"},r.a.createElement(x,{className:"paginationContainer",total:Math.ceil(this.props.list.length/20),handlePage:this.handlePage.bind(this)}),r.a.createElement("div",{className:"resultContainer"},this.matches))}}]),a}(n.Component),S=a(72),I=a(73),M=a(74),C="".concat("/REmatchReact","/work.js"),P=1*Math.pow(10,8),L=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],o=t[1],s=Object(n.useState)([]),i=Object(m.a)(s,2),h=i[0],p=i[1],d=Object(n.useRef)(),f=Object(n.useRef)(),b=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:f.current.editor.setValue(""),a=0,n=P;case 6:if(!(a<t.size)){e.next=11;break}return e.next=9,t.slice(a,n).text().then((function(e){f.current.editor.replaceRange(e,{line:1/0}),a=n,n+=P}));case 9:e.next=6;break;case 11:console.log("upload done");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){!function e(){(y=new Worker(C)).onmessage=function(t){"SCHEMA"===t.data.type||("RESULT"===t.data.type?p((function(e){return[].concat(Object(u.a)(e),Object(u.a)(t.data.spans))})):"LASTRESULT"===t.data.type?(p((function(e){return[].concat(Object(u.a)(e),Object(u.a)(t.data.spans))})),console.log("FINISHED"),y.terminate(),e()):"ERROR"===t.data.type?(alert(t.data.error),y.terminate(),e()):"NORESULTS"===t.data.type&&(console.log("No matches found."),alert("No matches found."),y.terminate(),e()))}}()}),[]),r.a.createElement("div",null,r.a.createElement(S.a,{onClick:function(){p([]),y.postMessage({text:f.current.editor.getValue(),query:d.current.editor.getValue()})},color:"secondary",variant:"outlined",startIcon:r.a.createElement(I.a,null)},"Run Query"),r.a.createElement("input",{accept:"*",id:"contained-button-file",multiple:!0,type:"file",style:{display:"none"},onChange:function(e){return b(e.target.files[0])}}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(S.a,{color:"primary",variant:"outlined",component:"span",startIcon:r.a.createElement(M.a,null)},"Upload file")),r.a.createElement(O,{ref:d,label:"queryEditor",mode:"rematchQuery",scrollbarStyle:"null",value:"!a{RE}!b{match} !c{is} !d{[a-z]+}!e{!}",theme:"default",lineNumbers:!1,disableNewLine:!0}),r.a.createElement(j,{ref:f,label:"textEditor",mode:"text/plain",scrollbarStyle:"native",value:"REmatch is cool!\nREmatch is awesome!\nREmatch is pretty!\nREmatch is useful!\nREmatch is cool!\nREmatch is awesome!\nREmatch is pretty!\nREmatch is useful!\nREmatch is cool!\nREmatch is awesome!\nREmatch is pretty!\nREmatch is useful!",theme:"defalult",lineNumbers:!0,disableNewLine:!1,marks:a}),r.a.createElement(N,{setMarks:o,list:h,textEditorRef:f}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.a2cd42e6.chunk.js.map