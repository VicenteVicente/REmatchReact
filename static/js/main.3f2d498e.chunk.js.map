{"version":3,"sources":["assets/logo-dark.png","App.js","serviceWorker.js","index.js"],"names":["module","exports","WORKPATH","process","CHUNKSIZE","worker","Worker","CodeMirror","defineSimpleMode","start","regex","token","darkTheme","createMuiTheme","palette","type","primary","main","background","paper","default","SectionTitle","title","className","style","backgroundColor","ResultsTable","props","handleDownload","blob","Blob","JSON","stringify","variables","schema","matches","spanList","elem","window","document","createElement","href","URL","createObjectURL","download","body","appendChild","click","removeChild","handleChangePage","_","newPage","setState","page","handleChangeRowsPerPage","event","rowsPerPage","target","value","handleMarkText","row","clearMarks","addMarks","state","this","textEditor","Grid","container","spacing","item","xs","display","margin","Pagination","count","Math","ceil","length","onChange","showFirstButton","showLastButton","justify","Select","labelId","MenuItem","Tooltip","Button","color","startIcon","GetApp","onClick","TableContainer","height","oveflow","Table","stickyHeader","size","map","schIdx","key","width","TableHead","TableRow","name","idxHead","TableCell","TableBody","slice","idxRow","hover","cursor","col","idxCol","match","getRange","posFromIndex","s","e","padding","arrow","theme","position","popperOptions","modifiers","preventOverflow","enabled","animateFill","followCursor","duration","html","maxWidth","Component","App","spans","end","forEach","span","idx","markText","scrollIntoView","getAllMarks","mark","clear","handleFile","a","file","files","setValue","uploadingFile","fileProgress","text","then","textChunk","round","replaceRange","line","Infinity","console","log","runWorker","postMessage","getValue","query","queryEditor","onmessage","m","data","prevState","error","getElementById","mode","lineNumbers","scrollbarStyle","smartIndent","indentWithTabs","showInvisibles","undoDepth","viewportMargin","extraKeys","on","instance","change","includes","origin","join","replace","update","from","to","ThemeProvider","CssBaseline","Container","src","Logo","alt","Paper","elevation","Backdrop","open","zIndex","flexDirection","CircularProgress","id","PlayArrow","accept","htmlFor","variant","component","Publish","Boolean","location","hostname","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.3f2d498e.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","/**\r\n * TODO:\r\n * pagination\r\n * fixed editor and resizable layout\r\n * color scheme\r\n * hover\r\n * background color differed\r\n * bug pagination\r\n * cortar match con (...)\r\n x botón con más informacion (span, linea, char)\r\n * alertas material\r\n * Early outputs\r\n * download results\r\n */\r\nimport React, { Component } from 'react';\r\n\r\nimport Logo from './assets/logo-dark.png';\r\n\r\nimport CodeMirror from 'codemirror';\r\nimport 'codemirror/theme/material-darker.css';\r\nimport 'codemirror/addon/mode/simple';\r\n\r\nimport 'react-tippy/dist/tippy.css';\r\nimport { Tooltip as Tippy } from 'react-tippy';\r\n\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Button from '@material-ui/core/Button';\r\nimport { PlayArrow, Publish, GetApp } from '@material-ui/icons';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Container from '@material-ui/core/Container';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\n\r\nconst WORKPATH = `${process.env.PUBLIC_URL}/work.js`;\r\nconst CHUNKSIZE = 1 * 10 ** 8; // 100MB\r\nlet worker = new Worker(WORKPATH);\r\n\r\n/* CODEMIRROR MODE DEFINITION */\r\nCodeMirror.defineSimpleMode('rematchQuery', {\r\n  start: [\r\n    {\r\n      regex: /(![A-Za-z0-9]+\\{|\\})/,\r\n      token: 'm0'\r\n    },\r\n    {\r\n      regex: /(\\\\d)|(\\\\w)|(\\\\s)|(\\\\t)|(\\\\r)|(\\\\n)|(\\\\\\()|(\\\\\\))|(\\\\\\[)|(\\\\\\])|(\\\\\\{)|(\\\\\\})|(\\\\\\.)|(\\\\-)|(\\\\_)/i,\r\n      token: 'm2'\r\n    },\r\n    {\r\n      regex: /(\\(|\\)|\\||\\[|\\]|-)/,\r\n      token: 'm3'\r\n    },\r\n    {\r\n      regex: /(\\.\\+|\\.\\*|\\.|\\+)/,\r\n      token: 'm1'\r\n    },\r\n  ]\r\n});\r\n\r\n/* MATERIAL UI DARK THEME */\r\nconst darkTheme = createMuiTheme({\r\n  palette: {\r\n    type: 'dark',\r\n    primary: {\r\n      main: '#03DAC6',\r\n    },\r\n    background: {\r\n      paper: '#212121',\r\n      default: '#2c2c2c',\r\n    }\r\n  },\r\n});\r\n\r\nconst SectionTitle = ({ title }) => (\r\n  <div className=\"sectionTitle\" style={{ backgroundColor: '#03DAC6' }}>{title}</div>\r\n)\r\n\r\nclass ResultsTable extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      page: 0,\r\n      rowsPerPage: 25,\r\n    }\r\n  }\r\n  \r\n  handleDownload = () => {\r\n    let blob = new Blob([\r\n    JSON.stringify({\r\n      variables: this.props.schema,\r\n      matches: this.props.spanList\r\n    })], {type: 'application/json'});\r\n    let elem = window.document.createElement('a');\r\n    elem.href = window.URL.createObjectURL(blob);\r\n    elem.download = 'test.json';        \r\n    document.body.appendChild(elem);\r\n    elem.click();        \r\n    document.body.removeChild(elem);\r\n  }\r\n\r\n  handleChangePage = (_, newPage) => {\r\n    this.setState({ page: newPage - 1 });\r\n  }\r\n\r\n  handleChangeRowsPerPage = (event) => {\r\n    this.setState({\r\n      rowsPerPage: event.target.value,\r\n      page: 0,\r\n    });\r\n  }\r\n\r\n  handleMarkText = (row) => {\r\n    this.props.clearMarks();\r\n    this.props.addMarks(row);\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(_) {\r\n    this.setState({ page: 0 });\r\n  }\r\n\r\n  render() {\r\n    const { schema, spanList, textEditor } = this.props;\r\n    return ([\r\n      <Grid container spacing={0}>\r\n        <Grid item xs={7} style={{ display: 'flex', margin: '.25rem 0'}}>\r\n          <Pagination\r\n            page={this.state.page + 1}\r\n            style={{ display: 'block' }}\r\n            count={Math.ceil(spanList.length / this.state.rowsPerPage)}\r\n            onChange={this.handleChangePage}\r\n            showFirstButton\r\n            showLastButton />\r\n        </Grid>\r\n        <Grid item xs={5} justify=\"flex-end\" style={{ display: 'flex', margin: '.25rem 0'}}>\r\n          <Select\r\n            value={this.state.rowsPerPage}\r\n            labelId=\"demo-simple-select-label\"\r\n            onChange={this.handleChangeRowsPerPage}>\r\n            <MenuItem value={10}>10 rows per page</MenuItem>\r\n            <MenuItem value={25}>25 rows per page</MenuItem>\r\n            <MenuItem value={50}>50 rows per page</MenuItem>\r\n            <MenuItem value={100}>100 rows per page</MenuItem>\r\n          </Select>\r\n          <Tooltip title=\"Download matches\">\r\n            <Button color=\"primary\" startIcon={<GetApp/>} onClick={this.handleDownload}>\r\n              Matches\r\n            </Button>\r\n          </Tooltip>\r\n        </Grid>\r\n      </Grid>,\r\n      <TableContainer style={{ height: '40vh', oveflow: 'auto' }}>\r\n        <Table stickyHeader size=\"small\">\r\n          <colgroup>\r\n            {schema.map((_, schIdx) => (\r\n              <col key={schIdx} style={{ width: `${100 * 1 / schema.length}%` }} />\r\n            ))}\r\n          </colgroup>\r\n          <TableHead>\r\n            {(spanList.length > 0)\r\n              ? <TableRow>\r\n                {schema.map((name, idxHead) => (\r\n                  <TableCell className={`th${idxHead}`} key={idxHead}>\r\n                    {name}\r\n                  </TableCell>\r\n                ))}\r\n              </TableRow>\r\n              : <TableRow>\r\n                <TableCell>\r\n                  No matches\r\n                </TableCell>\r\n              </TableRow>\r\n            }\r\n          </TableHead>\r\n          <TableBody>\r\n            {(this.state.rowsPerPage > 0\r\n              ? spanList.slice(\r\n                this.state.page * this.state.rowsPerPage,\r\n                this.state.page * this.state.rowsPerPage + this.state.rowsPerPage)\r\n              : spanList).map((row, idxRow) => (\r\n                <TableRow key={idxRow} hover style={{ cursor: 'pointer' }} onClick={() => this.handleMarkText(row)}>\r\n                  {row.map((col, idxCol) => {\r\n                    let match = textEditor.getRange(textEditor.posFromIndex(col.s), textEditor.posFromIndex(col.e));\r\n                    return (\r\n                      <TableCell key={idxCol} style={{ padding: 0 }}>\r\n                        <Tippy\r\n                          arrow={true}\r\n                          theme=\"light\"\r\n                          position=\"top\"\r\n                          popperOptions={{modifiers: {\r\n                            preventOverflow: {\r\n                              enabled: false\r\n                            }}\r\n                          }}\r\n                          animateFill={false}\r\n                          followCursor={true}\r\n                          duration={0}\r\n                          html={\r\n                            <div style={{ maxWidth: 300 }}>\r\n                              <p>\r\n                                <strong>Range:</strong> \r\n                                <br />\r\n                                [{col.s}, {col.e})\r\n                              </p>\r\n                              <p>\r\n                                <strong>Full Match:</strong>\r\n                                <br />\r\n                                {match}\r\n                              </p>\r\n                            </div>\r\n                          }>\r\n                          <div style={{ padding: '6px 24px 6px 16px' }}>\r\n                            {(match.length > 36)\r\n                              ? match.slice(0, 36) + '...'\r\n                              : match}\r\n                          </div>\r\n                        </Tippy>\r\n                      </TableCell>)\r\n                  }\r\n                  )}\r\n                </TableRow>\r\n              ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>]\r\n    )\r\n  }\r\n}\r\n\r\n/* APP */\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      schema: [],\r\n      spanList: [],\r\n      uploadingFile: false,\r\n      fileProgress: 0,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    let queryEditor = CodeMirror(document.getElementById('queryEditor'), {\r\n      value: '!a{RE}!b{[a-z]+} !c{[a-z]+}!d{!}',\r\n      mode: 'rematchQuery',\r\n      theme: 'material-darker',\r\n      lineNumbers: false,\r\n      scrollbarStyle: null,\r\n      smartIndent: false,\r\n      indentWithTabs: true,\r\n      showInvisibles: false,\r\n      undoDepth: 100,\r\n      viewportMargin: 10,\r\n      extraKeys: {\r\n        'Enter': this.runWorker,\r\n      }\r\n    });\r\n    queryEditor.on('beforeChange', (instance, change) => {\r\n      if (![\"undo\", \"redo\"].includes(change.origin)) {\r\n        let line = change.text.join(\"\").replace(/\\n/g, \"\");\r\n        change.update(change.from, change.to, [line]);\r\n      }\r\n      return true;\r\n    });\r\n    let textEditor = CodeMirror(document.getElementById('textEditor'), {\r\n      value:\r\n        `REmatch cool!\r\nREmatch awesome!\r\nREmatch nice!\r\nREmatch best!\r\n`,\r\n      mode: 'text/plain',\r\n      theme: 'material-darker',\r\n      lineNumbers: true,\r\n      scrollbarStyle: 'native',\r\n      smartIndent: false,\r\n      indentWithTabs: true,\r\n      showInvisibles: true,\r\n      undoDepth: 100,\r\n      viewportMargin: 15,\r\n    });\r\n    this.setState({\r\n      queryEditor,\r\n      textEditor,\r\n    });\r\n  }\r\n\r\n  addMarks = (spans) => {\r\n    let start, end;\r\n    spans.forEach((span, idx) => {\r\n      start = this.state.textEditor.posFromIndex(span.s);\r\n      end = this.state.textEditor.posFromIndex(span.e);\r\n\r\n      this.state.textEditor.markText(start, end, {\r\n        className: `m${idx}`,\r\n      }\r\n      );\r\n    });\r\n    this.state.textEditor.scrollIntoView(start, 200);\r\n  }\r\n  clearMarks = () => {\r\n    this.state.textEditor.getAllMarks().forEach((mark) => {\r\n      mark.clear();\r\n    });\r\n  }\r\n  handleFile = async (event) => {\r\n    let file = event.target.files[0];\r\n    if (!file) { return };\r\n    this.state.textEditor.setValue('');\r\n    this.clearMarks();\r\n    this.setState({ spanList: [], schema: [], uploadingFile: true, fileProgress: 0 });\r\n    let start = 0;\r\n    let end = CHUNKSIZE;\r\n    while (start < file.size) {\r\n      await file.slice(start, end).text()\r\n        // eslint-disable-next-line no-loop-func\r\n        .then((textChunk) => {\r\n          this.setState({ fileProgress: Math.round(100 * 100 * start / file.size) / 100 })\r\n          this.state.textEditor.replaceRange(textChunk, { line: Infinity });\r\n          start = end;\r\n          end += CHUNKSIZE;\r\n        });\r\n    }\r\n    console.log('upload done');\r\n    this.setState({ uploadingFile: false })\r\n  }\r\n  runWorker = () => {\r\n    console.log('STARTED');\r\n    this.clearMarks();\r\n    this.setState({ spanList: [], schema: [] });\r\n    worker.postMessage({\r\n      text: this.state.textEditor.getValue(),\r\n      query: this.state.queryEditor.getValue(),\r\n    });\r\n    worker.onmessage = (m) => {\r\n      switch (m.data.type) {\r\n        case 'SCHEMA':\r\n          this.setState({ schema: m.data.schema });\r\n          break;\r\n        case 'SPANS':\r\n          this.setState((prevState, _) => ({ spanList: [...prevState.spanList, ...m.data.spans] }));\r\n          break;\r\n        case 'LAST_SPANS':\r\n          this.setState((prevState, _) => ({ spanList: [...prevState.spanList, ...m.data.spans] }));\r\n          console.log(\"FINISHED (NO MORE SPANS)\");\r\n          break;\r\n        case 'ERROR':\r\n          console.log(\"FINISHED (ERROR)\");\r\n          console.log(m.data.error);\r\n          break;\r\n        case 'NO_MATCHES':\r\n          console.log(\"FINISHED (NO MATCHES)\");\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <ThemeProvider theme={darkTheme}>\r\n        <CssBaseline />\r\n        <Container className=\"container\">\r\n          <img className=\"logo\" src={Logo} alt=\"REmatch\" />\r\n          <Paper elevation={3}>\r\n            <Backdrop open={this.state.uploadingFile} style={{ zIndex: 10000, display: 'flex', flexDirection: 'column' }}>\r\n              <CircularProgress size='3rem' />\r\n              <h2 style={{ color: '#fff' }}>Loading ({this.state.fileProgress}%)</h2>\r\n            </Backdrop>\r\n            <Grid container spacing={0}>\r\n              {/* Expression */}\r\n              <Grid item xs={12}>\r\n                <SectionTitle title=\"Expression\" />\r\n              </Grid>\r\n              <Grid item xs={11}>\r\n                <div id=\"queryEditor\"></div>\r\n              </Grid>\r\n              <Grid item xs={1}>\r\n                <Button color=\"primary\" justify=\"flex-end\" startIcon={<PlayArrow />} onClick={this.runWorker} style={{ display: 'flex', width: '100%', background: 'none !important' }}>\r\n                  Run\r\n                </Button>\r\n              </Grid>\r\n              {/* EDITOR */}\r\n              <Grid item xs={12}>\r\n                <SectionTitle title=\"Text\" />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <div id=\"textEditor\">\r\n                  <input accept=\"*\" id=\"fileInput\" type=\"file\" style={{ display: 'none' }} onChange={this.handleFile} />\r\n                  <label htmlFor=\"fileInput\">\r\n                    <Tooltip title=\"Upload a file\">\r\n                      <Button size=\"medium\" variant=\"contained\" component=\"span\" color=\"primary\" className=\"uploadButton\">\r\n                        <Publish />\r\n                      </Button>\r\n                    </Tooltip>\r\n                  </label>\r\n                </div>\r\n              </Grid>\r\n              {/* RESULTS */}\r\n              <Grid item xs={12}>\r\n                <SectionTitle title=\"Matches\" />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <ResultsTable\r\n                  spanList={this.state.spanList}\r\n                  schema={this.state.schema}\r\n                  textEditor={this.state.textEditor}\r\n                  addMarks={this.addMarks}\r\n                  clearMarks={this.clearMarks}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </Paper>\r\n        </Container>\r\n      </ThemeProvider>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}