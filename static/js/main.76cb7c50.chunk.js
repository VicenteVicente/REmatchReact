(this.webpackJsonprematch=this.webpackJsonprematch||[]).push([[0],{12:function(e,t,n){e.exports=n(19)},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),s=n.n(o),c=(n(17),n(6)),i=n(9),l=n(1),u=n(5),m=n(3),h=n(2),p=n(8),d=n.n(p),f=(n(18),["m0","m1","m2","m3","m4"]),b=[];d.a.defineSimpleMode("rematchQuery",{start:[{regex:/(\.\+|\.\*|\.|\+)/,token:"keyword"},{regex:/(\\d)|(\\w)|(\\s)|(\\t)|(\\r)|(\\n)|(\\\()|(\\\))|(\\\[)|(\\\])|(\\\{)|(\\\})|(\\\.)|(\\-)|(\\_)/i,token:"string"},{regex:/(![A-Za-z0-9]+\{|\})/,token:"number"},{regex:/(\(|\)|\||\[|\]|-)/,token:"operator"}]});var E,g=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.editor=d()(document.getElementById(this.props.label),{mode:this.props.mode,theme:this.props.theme,lineNumbers:this.props.lineNumbers,scrollbarStyle:this.props.scrollbarStyle,smartIndent:!1,indentWithTabs:!0,showInvisibles:!1,undoDepth:100,viewportMargin:10}),this.editor.setValue(this.props.value),this.props.disableNewLine&&this.editor.on("beforeChange",(function(e,t){var n=t.text.join("").replace(/\n/g,"");return t.update(t.from,t.to,[n]),!0}))}},{key:"render",value:function(){return r.a.createElement("div",{id:this.props.label})}}]),n}(a.Component),k=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this;0!==this.props.marks.length&&(0!==b.length&&b.forEach((function(e){e.clear()})),this.props.marks.forEach((function(e,n){b.push(t.editor.markText(t.editor.posFromIndex(e.s),t.editor.posFromIndex(e.e),{className:f[n]}))})),this.editor.scrollIntoView(this.editor.posFromIndex(this.props.marks[0].s),200))}}]),n}(g),y=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return n}(g),v=function(e){e.spans;var t=e.spans.map((function(e,t){return r.a.createElement("span",{key:t},e.m)}));return r.a.createElement("button",{className:"resultLine",onClick:function(){return e.setMarks(e.spans)}},t)},j=function(e){console.log("render buttons");var t=[];console.log(e.total);for(var n=function(n){console.log(n),t.push(r.a.createElement("button",{onClick:function(){return e.handlePage(n)}},n))},a=1;a<e.total+1;a++)n(a);return t},O=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={currPage:1},a}return Object(u.a)(n,[{key:"handlePage",value:function(e){this.setState({currPage:e})}},{key:"render",value:function(){var e=this;return this.matches=this.props.list.slice(100*(this.state.currPage-1),100*this.state.currPage).map((function(t,n){return r.a.createElement(v,{key:n,spans:t,setMarks:e.props.setMarks})})),r.a.createElement("div",{style:{backgroundColor:"gray"}},r.a.createElement(j,{total:Math.ceil(this.props.list.length/100),handlePage:this.handlePage.bind(this)}),this.matches)}}]),n}(a.Component),R="".concat("/REmatchReact","/work.js"),w=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],o=t[1],s=Object(a.useState)([]),l=Object(i.a)(s,2),u=l[0],m=l[1],h=Object(a.useRef)(),p=Object(a.useRef)(),d=function(e){e.forEach((function(e){e.forEach((function(e){e.m=p.current.editor.getRange(p.current.editor.posFromIndex(e.s),p.current.editor.posFromIndex(e.e))}))}))};return Object(a.useEffect)((function(){!function e(){(E=new Worker(R)).onmessage=function(t){"SCHEMA"===t.data.type||("RESULT"===t.data.type?(d(t.data.spans),m((function(e){return[].concat(Object(c.a)(e),Object(c.a)(t.data.spans))}))):"LASTRESULT"===t.data.type?(d(t.data.spans),m((function(e){return[].concat(Object(c.a)(e),Object(c.a)(t.data.spans))})),console.log("FINISHED"),E.terminate(),e()):"ERROR"===t.data.type?(alert(t.data.error),E.terminate(),e()):"NORESULTS"===t.data.type&&(console.log("No matches found."),E.terminate(),e()))}}()}),[]),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){m([]),E.postMessage({text:p.current.editor.getValue(),query:h.current.editor.getValue()})}},"Run Query"),r.a.createElement("h1",{onClick:function(){return console.log}},"REmatch test!"),r.a.createElement(y,{ref:h,label:"queryEditor",mode:"rematchQuery",scrollbarStyle:"null",value:"!a{RE}!b{match} !c{is} !d{[a-z]+}!e{!}",theme:"monokai",lineNumbers:!1,disableNewLine:!0}),r.a.createElement(k,{ref:p,label:"textEditor",mode:"text/plain",scrollbarStyle:"native",value:"REmatch is cool!\nREmatch is awesome!\nREmatch is pretty!\nREmatch is useful!\nREmatch is cool!\nREmatch is awesome!\nREmatch is pretty!\nREmatch is useful!\nREmatch is cool!\nREmatch is awesome!\nREmatch is pretty!\nREmatch is useful!",theme:"monokai",lineNumbers:!0,disableNewLine:!1,marks:n}),r.a.createElement(O,{setMarks:o,list:u}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[12,1,2]]]);
//# sourceMappingURL=main.76cb7c50.chunk.js.map