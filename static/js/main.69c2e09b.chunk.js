(this.webpackJsonprematch=this.webpackJsonprematch||[]).push([[0],{59:function(e,A){e.exports="data:image/png;base64,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"},72:function(e,A,t){e.exports=t(85)},77:function(e,A,t){},85:function(e,A,t){"use strict";t.r(A);var a=t(0),n=t.n(a),r=t(8),s=t.n(r),o=(t(77),t(35)),i=t(47),c=t.n(i),l=t(58),m=t(48),u=t(49),d=t(51),g=t(50),E=t(59),p=t.n(E),h=t(31),C=t.n(h),v=(t(79),t(80),t(62)),f=t(142),w=t(143),I=t(134),x=t(135),y=t(146),b=t(147),k=t(137),L=t(141),B=t(140),P=t(136),O=t(138),R=t(139),S=t(145),M=t(154),F=t(130),j=t(144),N=t(133),Q=t(153),T=t(148),z=t(152),J=t(151),D=t(127),K=t(150),W="".concat("/REmatchReact","/work.js"),Z=1*Math.pow(10,8),H=new Worker(W);C.a.defineSimpleMode("rematchQuery",{start:[{regex:/(![A-Za-z0-9]+\{|\})/,token:"m0"},{regex:/(\\d)|(\\w)|(\\s)|(\\t)|(\\r)|(\\n)|(\\\()|(\\\))|(\\\[)|(\\\])|(\\\{)|(\\\})|(\\\.)|(\\-)|(\\_)/i,token:"m2"},{regex:/(\(|\)|\||\[|\]|-)/,token:"m3"},{regex:/(\.\+|\.\*|\.|\+)/,token:"m1"}]});var V=Object(v.a)({palette:{type:"dark",primary:{main:"#03DAC6"},background:{paper:"#212121",default:"#353535"}}}),X=function(e){var A=e.title;return n.a.createElement(D.a,{variant:"body1",component:"div",style:{color:"#000000",backgroundColor:"#03DAC6",padding:".5rem 0 .5rem .75rem"}},n.a.createElement(K.a,{fontWeight:"fontWeightBold"},A))},U=function(e){Object(d.a)(t,e);var A=Object(g.a)(t);function t(e){var a;return Object(m.a)(this,t),(a=A.call(this,e)).handleDownload=function(){var e=new Blob([JSON.stringify({variables:a.props.schema,matches:a.props.spanList})],{type:"application/json"}),A=window.document.createElement("a");A.href=window.URL.createObjectURL(e),A.download="test.json",document.body.appendChild(A),A.click(),document.body.removeChild(A)},a.handleChangePage=function(e,A){a.setState({page:A-1})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value,page:0})},a.handleMarkText=function(e){a.props.clearMarks(),a.props.addMarks(e)},a.state={page:0,rowsPerPage:25},a}return Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){0!==e.spanList.length&&0===this.props.spanList.length&&this.setState({page:0})}},{key:"render",value:function(){var e=this,A=this.props,t=A.schema,a=A.spanList,r=A.textEditor;return[n.a.createElement(F.a,{container:!0,spacing:0},n.a.createElement(F.a,{item:!0,xs:7,style:{margin:".25rem 0"}},n.a.createElement(J.a,{page:this.state.page+1,style:{display:"block"},count:Math.ceil(a.length/this.state.rowsPerPage),onChange:this.handleChangePage,showFirstButton:!0,showLastButton:!0})),n.a.createElement(F.a,{item:!0,xs:5,style:{margin:".25rem 0",display:"flex",justifyContent:"flex-end",gap:".5rem"}},n.a.createElement(T.a,{value:this.state.rowsPerPage,labelId:"demo-simple-select-label",onChange:this.handleChangeRowsPerPage},n.a.createElement(z.a,{value:10},"10 rows per page"),n.a.createElement(z.a,{value:25},"25 rows per page"),n.a.createElement(z.a,{value:50},"50 rows per page"),n.a.createElement(z.a,{value:100},"100 rows per page")),n.a.createElement(Q.a,{title:"Download matches"},n.a.createElement(I.a,{color:"primary",startIcon:n.a.createElement(x.a,null),onClick:this.handleDownload},"Matches")))),n.a.createElement(P.a,{style:{height:"40vh",oveflow:"auto"}},n.a.createElement(k.a,{stickyHeader:!0,size:"small"},n.a.createElement("colgroup",null,t.map((function(e,A){return n.a.createElement("col",{key:A,style:{width:"".concat(100/t.length,"%")}})}))),n.a.createElement(O.a,null,a.length>0?n.a.createElement(R.a,null,t.map((function(e,A){return n.a.createElement(B.a,{className:"th".concat(A),key:A},e)}))):n.a.createElement(R.a,null,n.a.createElement(B.a,{style:{backgroundColor:"transparent"}},"No matches"))),n.a.createElement(L.a,null,(this.state.rowsPerPage>0?a.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage):a).map((function(A,t){return n.a.createElement(R.a,{key:t,hover:!0,style:{cursor:"pointer"},onClick:function(){return e.handleMarkText(A)}},A.map((function(e,A){var t=r.getRange(r.posFromIndex(e.s),r.posFromIndex(e.e));return n.a.createElement(B.a,{key:A,style:{padding:0}},n.a.createElement("div",{style:{padding:"6px 24px 6px 16px"}},t.length>36?t.slice(0,36)+"...":t))})))})))))]}}]),t}(a.Component),q=function(e){Object(d.a)(t,e);var A=Object(g.a)(t);function t(e){var a;return Object(m.a)(this,t),(a=A.call(this,e)).addMarks=function(e){var A,t;e.forEach((function(e,n){A=a.state.textEditor.posFromIndex(e.s),t=a.state.textEditor.posFromIndex(e.e),a.state.textEditor.markText(A,t,{className:"m".concat(n)})})),a.state.textEditor.scrollIntoView(A,200)},a.clearMarks=function(){a.state.textEditor.getAllMarks().forEach((function(e){e.clear()}))},a.handleFile=function(){var e=Object(l.a)(c.a.mark((function e(A){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=A.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:a.state.textEditor.setValue(""),a.clearMarks(),a.setState({spanList:[],schema:[],uploadingFile:!0,fileProgress:0}),n=0,r=Z;case 9:if(!(n<t.size)){e.next=14;break}return e.next=12,t.slice(n,r).text().then((function(e){a.setState({fileProgress:Math.round(1e4*n/t.size)/100}),a.state.textEditor.replaceRange(e,{line:1/0}),n=r,r+=Z}));case 12:e.next=9;break;case 14:console.log("upload done"),a.setState({uploadingFile:!1});case 16:case"end":return e.stop()}}),e)})));return function(A){return e.apply(this,arguments)}}(),a.runWorker=function(){console.log("STARTED"),a.clearMarks(),a.setState({spanList:[],schema:[]}),H.postMessage({text:a.state.textEditor.getValue(),query:a.state.queryEditor.getValue()}),H.onmessage=function(e){switch(e.data.type){case"SCHEMA":a.setState({schema:e.data.schema});break;case"SPANS":a.setState((function(A,t){return{spanList:[].concat(Object(o.a)(A.spanList),Object(o.a)(e.data.spans))}}));break;case"LAST_SPANS":a.setState((function(A,t){return{spanList:[].concat(Object(o.a)(A.spanList),Object(o.a)(e.data.spans))}})),console.log("FINISHED (NO MORE SPANS)");break;case"ERROR":console.log("FINISHED (ERROR)"),console.log(e.data.error);break;case"NO_MATCHES":console.log("FINISHED (NO MATCHES)")}}},a.state={schema:[],spanList:[],uploadingFile:!1,fileProgress:0},a}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=C()(document.getElementById("queryEditor"),{value:"!a{RE}!b{[a-z]+} !c{[a-z]+}!d{!}",mode:"rematchQuery",theme:"material-darker",lineNumbers:!1,scrollbarStyle:null,smartIndent:!1,indentWithTabs:!0,showInvisibles:!1,undoDepth:100,viewportMargin:10,extraKeys:{Enter:this.runWorker}});e.on("beforeChange",(function(e,A){if(!["undo","redo"].includes(A.origin)){var t=A.text.join("").replace(/\n/g,"");A.update(A.from,A.to,[t])}return!0}));var A=C()(document.getElementById("textEditor"),{value:"REmatch cool!\nREmatch awesome!\nREmatch nice!\nREmatch best!\n",mode:"text/plain",theme:"material-darker",lineNumbers:!0,scrollbarStyle:"native",smartIndent:!1,indentWithTabs:!0,showInvisibles:!0,undoDepth:100,viewportMargin:15});this.setState({queryEditor:e,textEditor:A})}},{key:"render",value:function(){return n.a.createElement(f.a,{theme:V},n.a.createElement(w.a,null),n.a.createElement(j.a,{className:"container"},n.a.createElement("img",{className:"logo",src:p.a,alt:"REmatch"}),n.a.createElement(N.a,{elevation:5,style:{overflow:"hidden"}},n.a.createElement(M.a,{open:this.state.uploadingFile,style:{zIndex:1e4,display:"flex",flexDirection:"column"}},n.a.createElement(S.a,{size:"3rem"}),n.a.createElement("h2",{style:{color:"#fff"}},"Loading (",this.state.fileProgress,"%)")),n.a.createElement(F.a,{container:!0,spacing:0},n.a.createElement(F.a,{item:!0,xs:12},n.a.createElement(X,{title:"Expression"})),n.a.createElement(F.a,{item:!0,xs:11},n.a.createElement("div",{id:"queryEditor"})),n.a.createElement(F.a,{item:!0,xs:1},n.a.createElement(I.a,{color:"primary",justify:"flex-end",startIcon:n.a.createElement(y.a,null),onClick:this.runWorker,style:{display:"flex",width:"100%",background:"none !important"}},"Run")),n.a.createElement(F.a,{item:!0,xs:12},n.a.createElement(X,{title:"Text"})),n.a.createElement(F.a,{item:!0,xs:12},n.a.createElement("div",{id:"textEditor"},n.a.createElement("input",{accept:"*",id:"fileInput",type:"file",style:{display:"none"},onChange:this.handleFile}),n.a.createElement("label",{htmlFor:"fileInput"},n.a.createElement(Q.a,{title:"Upload a file"},n.a.createElement(I.a,{size:"medium",variant:"contained",component:"span",color:"primary",className:"uploadButton"},n.a.createElement(b.a,null)))))),n.a.createElement(F.a,{item:!0,xs:12},n.a.createElement(X,{title:"Matches"})),n.a.createElement(F.a,{item:!0,xs:12},n.a.createElement(U,{spanList:this.state.spanList,schema:this.state.schema,textEditor:this.state.textEditor,addMarks:this.addMarks,clearMarks:this.clearMarks}))))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[72,1,2]]]);
//# sourceMappingURL=main.69c2e09b.chunk.js.map